# keep-alive 란

HTTP 1.1 부터 추가된 기능이다.

이미 연결된 TCP 연결을 재사용하는 기능, 3-way handshake 과정이 생략되므로 성능향상을 기대할 수 있다.

timeout 과 max 를 사용하여 연결에 대한 정보를 표시한다

Keep-Alive: timeout=5, max=99 라면

timeout 시간 내에 요청이 없을 경우에 연결이 closed 되며, max는 가능한 request의 개수를 말한다.

### 특징

- 연결된 Socket에 I/O Access가 마지막으로 종료된 시점부터 정의된 시간까지 Access가 없더라도 세션을 유지하는 구조

### 장점

- 연속된 요청에 대한 성능 향상
- 정적 자원으로만 구성된 웹 서버에 Keep-Alive를 사용할 경우 50%의 성능향상을 보인다고 한다.

### 단점

- busy한 서버에 Keep-Alive를 적용할 경우 모든 요청마다 연결을 유지해야 하기 때문에 프로세스 수가 기하급수적으로 늘어나 MaxClient값을 초과하게 된다.
    
    → 메모리 사용량이 높아져 성능 저하의 원인이 된다.
    

### 문제점

- Keep-Alive에 설계상 문제가 있어 HTTP 1.1 명세에서는 제외되었다.
- 멍청한 프록시 문제
-